<%def name="list_tasks(tasks,relpath=False)">
| ID | Iteration | Summary | Assignee | Tags | Status | Hours | Last tracked |
|----+-----------+---------+----------+------+--------+-------+--------------|
% for sfn,sv in tasks:
% if relpath:
| [[file:${sv['story']}/index.org][${sv['story']}]]\
% else:
| [[file:${sv['iteration']}/${sv['story']}/index.org][${sv['story']}]]\
% endif
| ${sv['iteration']} | ${sv['summary']} | ${sv['assigned to']} | ${', '.join(sv.get('tags',''))} | ${sv['status']} | ${"%4.1f"%sv.get('total_hours',0)} | ${sv.get('last_tracked')} |
% endfor
</%def>
<%def name="body()">
#+OPTIONS: toc:nil        (no TOC at all)
#+STYLE:    <link rel="stylesheet" type="text/css" href="/stylesheet.css" />
* ${term} ${value} tasks

% for s in statuses:
% if s in stories:
** ${s}
${list_tasks(stories[s],relpath=relpath)}
% endif
% endfor
</%def>
